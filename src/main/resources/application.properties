# ==============================================================
# CONFIGURACAO GERAL (DEV / PADR\u00C3O)
# ==============================================================
spring.application.name=ddcosmeticos-backend
server.port=8080
spring.profiles.active=dev

# ==============================================================
# BANCO DE DADOS (PostgreSQL)
# ==============================================================
# Adicionado um valor padr\u00E3o (ap\u00F3s o ':') para n\u00E3o quebrar a inicializa\u00E7\u00E3o
# caso voc\u00EA esque\u00E7a de configurar as vari\u00E1veis de ambiente no seu PC.
spring.datasource.url=jdbc:postgresql://localhost:5432/${DB_NAME:ddcosmeticos}
spring.datasource.username=${DB_USER:postgres}
spring.datasource.password=${DB_PASSWORD:postgres}
spring.datasource.driver-class-name=org.postgresql.Driver

# ==============================================================
# JPA / HIBERNATE (Performance & Compatibilidade)
# ==============================================================
# \u26A0\uFE0F ATEN\u00C7\u00C3O: Alterado temporariamente para 'create'.
# Isso \u00E9 OBRIGAT\u00D3RIO agora para apagar o banco defeituoso e recriar
# as colunas como VARCHAR e TEXT, sumindo com o erro do "bytea".
# Quando o sistema rodar sem erros, voc\u00EA pode voltar isso para 'update'.
spring.jpa.hibernate.ddl-auto=create

# For\u00E7a o dialeto correto do PostgreSQL (Consolidado num s\u00F3 lugar)
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Logs SQL (\u00DAtil em Dev, desligar em Prod)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Otimiza\u00E7\u00E3o de Batch (Insere/Atualiza em lotes para performance)
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Evita que a conex\u00E3o com o banco fique aberta durante a renderiza\u00E7\u00E3o (Performance)
spring.jpa.open-in-view=false

# ==============================================================
# UPLOAD DE ARQUIVOS
# ==============================================================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ==============================================================
# SEGURAN\u00C7A & CRIPTOGRAFIA
# ==============================================================
# Chave para assinar o JWT.
# EM PROD: Defina a vari\u00E1vel JWT_SECRET no servidor.
# EM DEV: Usa um valor padr\u00E3o expl\u00EDcito para n\u00E3o travar o start local.
api.security.token.secret=${JWT_SECRET:minha-chave-secreta-muito-segura-apenas-para-dev}

# ==============================================================
# INTEGRA\u00C7\u00D5ES EXTERNAS (Cosmos)
# ==============================================================
cosmos.api.url=https://api.cosmos.bluesoft.com.br/gtins
cosmos.api.token=${COSMOS_TOKEN:token-de-teste}

# ==============================================================
# EMAIL (JavaMailSender)
# ==============================================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=lojaddcosmeticos@gmail.com
spring.mail.password=${SENHA_EMAIL:senha-de-app}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true